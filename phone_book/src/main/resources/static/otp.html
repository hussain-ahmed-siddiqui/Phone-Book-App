<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, 
    initial-scale=1.0">
    <title>OTP Page</title>
    <!-- css tmne jahan bhi rkhi he old wali uska link dedo -->
    <link rel="stylesheet" href="Stylesheets/login_signup.css">  
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    
    <div class="wrapper">
<!--OTP,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,-->

    <form id="OTP" class="input-group" method="POST" action="/OTP">
    <h1>Enter OTP</h1>
    
    <p  style="text-align: center; color:rgb(100, 100, 119); margin-top: 7px;">We have sent you access code via email: </p>
    <div class="input-box">
        <input type="hidden" name="email" value="email" >
        <input name="otp" type="number" placeholder="4 Digit Number" >
    </div>
    <button type="submit" class="btn">submit</button>
    </form>
    <button onclick="checkSessionAndResendOTP()" class="btn">Resend OTP</button>
    
</div>
<script>
    // Assuming you have session creation time and email available in your template
    // const sessionCreatedAt = new Date('<%=createdAt %>');
    // const email = '<%= email %>';

    // function checkSessionAndResendOTP() {
       
    //         // Session expired, resend OTP
    //         fetch('/resend-otp', {
    //             method: 'POST',
    //             headers: {
    //                 'Content-Type': 'application/json',
    //             },
    //             body: JSON.stringify({ email: email })
    //         })
    //         .then(response => response.json())
    //         .then(data => {
    //             if(data.success) {
    //                 console.log('OTP resent successfully.');
    //             }
    //         });
        
    // }

    // // Check session expiry periodically, e.g., every 30 seconds
    // setInterval(checkSessionAndResendOTP, 30000);
</script>

</body>
</html>


